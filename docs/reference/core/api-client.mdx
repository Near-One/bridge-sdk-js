---
title: BridgeAPI
description: REST API client for the Omni Bridge
---

# BridgeAPI

The API client for interacting with the Omni Bridge REST API. Use it to track transfers, get fee quotes, and query bridge state.

## Import

```typescript
import { BridgeAPI } from "@omni-bridge/core"
```

## Constructor

```typescript
const api = new BridgeAPI(network: Network, config?: BridgeAPIConfig)
```

<ResponseField name="network" type="'mainnet' | 'testnet'" required>
  The network to connect to.
</ResponseField>

<ResponseField name="config" type="BridgeAPIConfig">
  Optional configuration.

  <Expandable title="BridgeAPIConfig">
    <ResponseField name="baseUrl" type="string">
      Override the default API base URL.
    </ResponseField>
  </Expandable>
</ResponseField>

## Methods

### getTransferStatus

Get the status of a transfer.

```typescript
const status = await api.getTransferStatus(options)
```

<ResponseField name="options" type="object" required>
  <Expandable title="options">
    <ResponseField name="transactionHash" type="string">
      The transaction hash on the source chain.
    </ResponseField>
    <ResponseField name="originChain" type="string">
      The origin chain name (e.g., "Eth", "Near").
    </ResponseField>
    <ResponseField name="originNonce" type="number">
      The transfer nonce on the origin chain.
    </ResponseField>
  </Expandable>
</ResponseField>

**Returns**: `Promise<TransferStatus[]>`

```typescript
// By transaction hash
const status = await api.getTransferStatus({
  transactionHash: "0x..."
})

// By chain and nonce
const status = await api.getTransferStatus({
  originChain: "Eth",
  originNonce: 12345
})
```

### getFee

Get a fee quote for a transfer.

```typescript
const fee = await api.getFee(sender, recipient, token, amount)
```

<ResponseField name="sender" type="OmniAddress" required>
  Sender address.
</ResponseField>

<ResponseField name="recipient" type="OmniAddress" required>
  Recipient address.
</ResponseField>

<ResponseField name="token" type="OmniAddress" required>
  Token address.
</ResponseField>

<ResponseField name="amount" type="string | bigint" required>
  Transfer amount.
</ResponseField>

**Returns**: `Promise<ApiFeeResponse>`

```typescript
interface ApiFeeResponse {
  transferred_token_fee: string
  native_token_fee: string
}
```

### getTransfer

Get full transfer details.

```typescript
const transfers = await api.getTransfer(options)
```

Uses the same options as `getTransferStatus`.

**Returns**: `Promise<Transfer[]>`

### findTransfers

Search for transfers.

```typescript
const transfers = await api.findTransfers(params)
```

<ResponseField name="params" type="object">
  <Expandable title="params">
    <ResponseField name="sender" type="string">
      Filter by sender address.
    </ResponseField>
    <ResponseField name="transactionId" type="string">
      Filter by transaction ID.
    </ResponseField>
    <ResponseField name="offset" type="number">
      Pagination offset.
    </ResponseField>
    <ResponseField name="limit" type="number">
      Maximum results to return.
    </ResponseField>
  </Expandable>
</ResponseField>

**Returns**: `Promise<Transfer[]>`

```typescript
const transfers = await api.findTransfers({
  sender: "eth:0x...",
  limit: 10
})
```

### getAllowlistedTokens

Get all tokens supported by the bridge.

```typescript
const tokens = await api.getAllowlistedTokens()
```

**Returns**: `Promise<Record<string, OmniAddress>>`

```typescript
const tokens = await api.getAllowlistedTokens()
// { "USDC": "eth:0x...", "wNEAR": "near:wrap.near", ... }
```

### getUtxoDepositAddress

Get a deposit address for Bitcoin or Zcash.

```typescript
const result = await api.getUtxoDepositAddress(chain, recipient, postActions?, extraMsg?)
```

<ResponseField name="chain" type="'btc' | 'zcash'" required>
  The UTXO chain.
</ResponseField>

<ResponseField name="recipient" type="string" required>
  NEAR recipient account.
</ResponseField>

**Returns**: `Promise<UtxoDepositAddressResponse>`

## Transfer Status Values

| Status | Description |
|--------|-------------|
| `Initialized` | Transfer initiated on source chain |
| `Signed` | MPC signature obtained |
| `FastFinalisedOnNear` | Fast finalized on NEAR |
| `FinalisedOnNear` | Finalized on NEAR |
| `FastFinalised` | Fast finalized on destination |
| `Finalised` | Fully finalized |
| `Claimed` | Tokens claimed |

## Examples

### Complete tracking example

```typescript
import { BridgeAPI } from "@omni-bridge/core"

const api = new BridgeAPI("mainnet")

// After sending a transfer
const txHash = "0x..."

// Poll for completion
async function waitForTransfer(hash: string) {
  while (true) {
    const [status] = await api.getTransferStatus({
      transactionHash: hash
    })

    console.log(`Status: ${status?.status}`)

    if (status?.status === "Finalised" || status?.status === "Claimed") {
      return status
    }

    await new Promise(r => setTimeout(r, 15000))
  }
}

const result = await waitForTransfer(txHash)
```

### Get fee and transfer

```typescript
const api = new BridgeAPI("mainnet")

// Get fee quote
const fee = await api.getFee(
  "eth:0xSender...",
  "near:recipient.near",
  "eth:0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",
  "1000000"
)

console.log(`Token fee: ${fee.transferred_token_fee}`)
console.log(`Native fee: ${fee.native_token_fee}`)
```

## Related

- [Tracking Transfers](/guides/tracking-transfers)
- [Relayer Fees](/guides/relayer-fees)
